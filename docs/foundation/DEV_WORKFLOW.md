# 开发流程规范

## 1. 规范来源

开发默认遵循以下文档：

- `docs/foundation/PRD-v1.md`
- `docs/foundation/ROADMAP.md`
- `docs/foundation/ARCHITECTURE_GUARDRAILS.md`
- `docs/foundation/TECH_STACK.md`

若实现与文档冲突，先更新文档并说明原因，再推进代码。

## 2. 迭代节奏

- 迭代周期：2 周一个 Sprint
- 每个版本增量必须明确：
  - 范围
  - 验收标准
  - 测试计划
  - 回滚说明

## 3. 通用完成定义（DoD）

- 功能在本地可端到端运行
- 变更路径具备核心测试并通过
- 日志与错误处理不可被绕开
- 行为或契约变更必须同步更新文档

## 4. 分支与评审基线

- 一项功能一个分支
- PR 保持聚焦且规模可评审
- 评审优先级：
  - 正确性
  - 回归风险
  - 契约稳定性
  - 测试覆盖

## 5. 版本策略

- 采用语义化演进：
  - `V1.0`：基线版本
  - `V1.x`：增量演进与加固
  - `V2.0`：大版本能力升级

## 6. 非功能基线

- 每个 API 接口必须有超时处理
- 每条请求路径应输出结构化日志
- 关键异常必须映射到稳定错误码

